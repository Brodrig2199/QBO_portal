<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aliada | Reportes QBO</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Login simple (solo UI) -->
  <div class="page" id="loginPage">
    <div class="card">
      <h1>Aliada</h1>
      <p class="muted">Portal de Reportes QuickBooks</p>

      <label>Usuario</label>
      <input id="user" placeholder="admin" autocomplete="username" />

      <label>Password</label>
      <input id="pass" type="password" placeholder="••••••••" autocomplete="current-password" />

      <button id="btnLogin">Entrar</button>
      <p class="hint">*Esto es un login básico solo para ocultar la pantalla.</p>

      <p class="error" id="loginErr"></p>
    </div>
  </div>

  <!-- Form -->
  <div class="page hidden" id="formPage">
    <div class="topbar">
      <div>
        <h2>Generar reporte</h2>
        <p class="muted">Selecciona empresa, rango de fechas y excluye cuentas si deseas.</p>
      </div>
      <button class="ghost" id="btnLogout">Salir</button>
    </div>

    <div class="card wide">
      <form id="reportForm">
        <div class="grid">
          <div>
            <label>Empresa</label>
            <select id="company" required></select>
          </div>

          <div>
            <label>Tipo de reporte</label>
            <select id="reportType" required>
              <option value="ProfitAndLoss">Profit & Loss</option>
              <option value="BalanceSheet">Balance Sheet</option>
              <option value="TrialBalance">Trial Balance</option>
              <option value="GeneralLedger">General Ledger</option>
            </select>
          </div>

          <div>
            <label>Fecha inicio</label>
            <input id="startDate" type="date" required />
          </div>

          <div>
            <label>Fecha final</label>
            <input id="endDate" type="date" required />
          </div>

          <div class="span2">
            <label>Excluir cuentas (separadas por coma)</label>
            <input id="excludeAccounts" placeholder="Ej: ITBMS, 6010 Gasolina, 6020 Comisiones" />
            <p class="hint">Se usa para filtrar el reporte en n8n.</p>
          </div>
        </div>

        <div class="actions">
          <button type="submit" id="btnSubmit">Submit / Descargar Excel</button>
          <span class="muted" id="status"></span>
        </div>

        <p class="error" id="err"></p>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
